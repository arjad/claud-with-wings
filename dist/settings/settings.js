document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("dark-mode-toggle");chrome.storage.sync.get("darkMode",(function(t){t.darkMode&&(e.checked=!0,document.body.classList.add("dark-mode"))})),e.addEventListener("change",(function(){const t=e.checked;chrome.storage.sync.set({darkMode:t}),t?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}));const t=document.getElementById("sort-options");chrome.storage.sync.get("sort_value",(function(e){e.sort_value&&(t.value=e.sort_value)})),t.addEventListener("change",(function(){chrome.storage.sync.set({sort_value:t.value})})),fetch("../assets/contributors.json").then((e=>e.json())).then((e=>{const t=document.getElementById("contributors-list");document.querySelector(".contributors-roles"),e.contributors.forEach((e=>{const o=document.createElement("div");o.className="d-flex align-items-center mb-2",o.innerHTML=`\n            <img src="${e.avatar}" alt="${e.name}" class="rounded-circle me-2" width="30" height="30">\n            <div>\n              <a href="${e.github}" target="_blank" class="fw-bold">${e.name}</a>\n              <div class="small text-muted">${e.role}</div>\n            </div>\n          `,t.appendChild(o)}))})).catch((e=>console.error("Error fetching contributors:"+e)));const o=document.getElementById("popup-size");chrome.storage.sync.get("popupSize",(function(e){e.popupSize&&(o.value=e.popupSize)})),o.addEventListener("change",(function(){const e=o.value;chrome.storage.sync.set({popupSize:e},(function(){chrome.runtime.sendMessage({action:"resizePopup",size:e})}))}))}));